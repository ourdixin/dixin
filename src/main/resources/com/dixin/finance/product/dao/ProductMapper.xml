<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dixin.finance.product.dao.ProductMapper">

  <!--  cache /  如果加缓存的话，手动改动数据后就不会显示了 -->

  <select id="queryProductList" parameterType="map" resultType="com.dixin.finance.product.vo.ProductVO" useCache="false" >
		select id id,
			code code, 
			name name, 
			release_date releaseDate, 
			term term, 
			part_a partA, 
			rate_a rateA, 
			rate_a rateA, 
			rate_b rateB, 
			part_c partC, 
			rate_c rateC, 
			amount amount, 
			mina_mount minaMount, 
			pay_type payType, 
			ad_file adFile, 
			guide_file guideFile, 
			state state, 
			star star, 
			catogry_id catogryId, 
			profit_id profitId, 
			bonus_type bonusType, 
			info info, 
			create_user createUser, 
			create_time createTime, 
			update_user updateUser, 
			update_time updateTime
		from product
		 WHERE name like '%${searchText}%' 
		<if test="productType != null and productType != 30">  
            <![CDATA[  
               and catogry_id=#{productType} 
            ]]>  
        </if>  
		
  </select>

</mapper>